import{w as C}from"./with-props-CxWoRmkF.js";import{t as P,r as c,n as e,N as D}from"./chunk-LSOULM7L-io0bedPh.js";import{s as S}from"./signstyle-DeWqp0up.js";import{T as i,F as d,I as u,O as x}from"./TextField-Bo1Kcyhs.js";import{F,I as h,V as w,a as f}from"./VisibilityOff-C9ooRaCa.js";import{I as j}from"./IconButton-CDJmrjB7.js";import"./DefaultPropsProvider-D3XoZZZR.js";import"./Grow-3Z0qnTTb.js";import"./index-CNVCymyq.js";import"./useTheme-BGXANyoT.js";import"./createSimplePaletteValueFilter-Ci2NaAvL.js";import"./Popover-ehDyiyj2.js";import"./Menu-CfqzC8Vj.js";import"./createSvgIcon-Czy4a_wd.js";import"./isMuiElement-bxpgwgQD.js";import"./Typography-Dl5m69Yi.js";import"./ButtonBase-AlovMshM.js";import"./isFocusVisible-B8k4qzLc.js";import"./CircularProgress-jWFtDqlA.js";const H=C(function(){const y=P(),[t,g]=c.useState(!1),[s,v]=c.useState({email:"",password:"",confirmPassword:"",companyName:"",companyDescription:""}),l=()=>g(o=>!o),p=o=>o.preventDefault(),m=o=>o.preventDefault(),n=o=>{const{name:r,value:a}=o.target;v(b=>({...b,[r]:a}))},N=async()=>{if(s.password!==s.confirmPassword){alert("Les mots de passe ne correspondent pas.");return}const o={email:s.email,password:s.password,role:"recruteur",company_name:s.companyName,description:s.companyDescription};try{const r=await fetch("http://localhost:5000/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),a=await r.json();r.ok?(alert("Inscription réussie !"),y("/auth/signin")):(alert(`Erreur: ${a.message||"Une erreur est survenue."}`),console.log("Erreur lors de l'inscription",a))}catch(r){console.error("Erreur lors de l'inscription",r),alert("Une erreur technique est survenue.")}};return e.jsxs("div",{className:"flex flex-row",children:[e.jsx("div",{className:"login px-4 py-2",children:e.jsx("img",{src:S,alt:"login",className:"h-auto",width:"790px",height:"200px"})}),e.jsxs("div",{className:"layout flex flex-col items-center pt-0 pb-4 px-20",style:{marginTop:"30px"},children:[e.jsxs("div",{className:"w-100 items-center justify-center mt-10",children:[e.jsx("h1",{className:"text-3xl font-bold text-center",children:"Créer un compte entreprise"}),e.jsx("p",{className:"label-simple",children:"Remplissez les informations ci-dessous pour vous inscrire sur Key Predict."})]}),e.jsxs("div",{className:"input-forms",children:[e.jsx(i,{required:!0,name:"companyName",label:"Nom de l'entreprise",value:s.companyName,onChange:n,className:"inpute w-full py-4 px-2",sx:{marginTop:"5px",marginBottom:"20px"}}),e.jsx(i,{required:!0,name:"email",label:"Email",value:s.email,onChange:n,className:"inpute w-full py-4 px-2"}),e.jsx(i,{name:"companyDescription",label:"Description de l'entreprise",multiline:!0,rows:3,value:s.companyDescription,onChange:n,className:"inpute w-full py-4 px-2",sx:{mt:2}}),e.jsxs(F,{className:"inpute w-full ",children:[e.jsxs(d,{variant:"outlined",className:"w-full mb-6 pb-4",sx:{mt:2,order:"1"},children:[e.jsx(u,{htmlFor:"password",children:"Mot de passe"}),e.jsx(x,{id:"password",name:"password",type:t?"text":"password",value:s.password,onChange:n,endAdornment:e.jsx(h,{position:"end",children:e.jsx(j,{onClick:l,onMouseDown:p,onMouseUp:m,edge:"end",children:t?e.jsx(w,{}):e.jsx(f,{})})}),label:"Mot de passe"})]}),e.jsxs(d,{variant:"outlined",className:"w-full pb-4",sx:{mt:4,order:"1"},children:[e.jsx(u,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),e.jsx(x,{id:"confirmPassword",name:"confirmPassword",type:t?"text":"password",value:s.confirmPassword,onChange:n,endAdornment:e.jsx(h,{position:"end",children:e.jsx(j,{onClick:l,onMouseDown:p,onMouseUp:m,edge:"end",children:t?e.jsx(w,{}):e.jsx(f,{})})}),label:"Confirmer le mot de passe"})]})]})]}),e.jsx("div",{style:{marginTop:"50%",order:"6",width:"100%"},children:e.jsx("button",{className:"btn-valider w-full",onClick:N,children:"Créer votre compte"})}),e.jsxs("div",{className:"inscription mt-4",children:[e.jsx("p",{children:"Vous avez déjà un compte Key Predict ?"}),e.jsx(D,{to:"/auth/signin",className:"label",children:e.jsx("p",{className:"link",style:{color:"purple",fontWeight:600},children:"Connectez-vous"})})]})]})]})});export{H as default};
