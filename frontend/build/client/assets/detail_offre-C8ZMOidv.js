import{w as y}from"./with-props-CxWoRmkF.js";import{n as e,t as v,r as o,x as N}from"./chunk-LSOULM7L-io0bedPh.js";import{c as f}from"./createSvgIcon-Czy4a_wd.js";import{B as l}from"./Box-B5QIj5Xy.js";import{T as a}from"./Typography-Dl5m69Yi.js";import"./DefaultPropsProvider-D3XoZZZR.js";import"./createSimplePaletteValueFilter-Ci2NaAvL.js";const w=f(e.jsx("path",{d:"M20 24H4c-1.1 0-2-.9-2-2s.9-2 2-2h16c1.1 0 2 .9 2 2s-.9 2-2 2M13.06 5.19l3.75 3.75-8.77 8.77c-.18.19-.44.29-.7.29H5c-.55 0-1-.45-1-1v-2.34c0-.27.11-.52.29-.71zm4.82 2.68-3.75-3.75 1.83-1.83c.39-.39 1.02-.39 1.41 0l2.34 2.34c.39.39.39 1.02 0 1.41z"})),C=f(e.jsx("path",{d:"M10.79 20H5V10h14v2.96c0 .89 1.08 1.34 1.71.71.19-.19.29-.44.29-.71V6c0-1.1-.9-2-2-2h-1V3c0-.55-.45-1-1-1s-1 .45-1 1v1H8V3c0-.55-.45-1-1-1s-1 .45-1 1v1H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h5.79c.89 0 1.34-1.08.71-1.71-.19-.18-.44-.29-.71-.29m2.92-1.74c.39-.39 1.02-.39 1.41 0l1.41 1.41 3.54-3.54c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41l-4.24 4.24c-.39.39-1.02.39-1.41 0l-2.12-2.12c-.39-.38-.39-1.01 0-1.4m-2.42-1.97c-.39.39-1.02.39-1.41 0L9 15.41l-.88.88c-.39.39-1.02.39-1.41 0s-.39-1.02 0-1.41l.88-.88-.88-.88c-.39-.39-.39-1.02 0-1.41s1.02-.39 1.41 0l.88.88.88-.88c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41l-.88.88.88.88c.39.39.39 1.02 0 1.41"})),g=[{id:1,name:"Marimar Delmar",role:"Administrateur commercial",experience:"6 ans d’expérience",image:"/app/images/avatar1.png",tags:["tag1","tag_long","tag2"],globalScore:94,testMatching:40,feedback:5,cvMatching:70,stage:"1/6",stepProgress:"Candidature reçue",progress:16},{id:2,name:"Jessica Vololona",role:"Commercial",experience:"2 ans d’expérience",image:"/app/images/avatar2.png",tags:["tag1","tag_long","tag2"],globalScore:68,testMatching:70,feedback:3,cvMatching:10,statusColor:"red",stage:"2/6",stepProgress:"Candidature reçue",progress:32},{id:3,name:"Marimar Delmar",role:"Administrateur commercial",experience:"6 ans d’expérience",image:"/app/images/avatar1.png",tags:["tag1","tag_long","tag2"],globalScore:94,testMatching:40,feedback:5,cvMatching:70,stage:"4/6",stepProgress:"Présélection",progress:66},{id:4,name:"Irina Menlez",role:"Commercial",experience:"3 ans d’expérience",image:"/app/images/avatar3.png",tags:["tag1","tag_long","tag2"],globalScore:45,testMatching:98,feedback:5,cvMatching:70,stage:"6/6",stepProgress:"Proposition",progress:100}],k=()=>{var m,p,h;const b=v(),[c,x]=o.useState("participants"),{id:d}=N(),[t,j]=o.useState(null);o.useEffect(()=>{d&&(async()=>{try{const r=localStorage.getItem("token"),n=await fetch(`http://localhost:5000/offer/${d}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok)throw new Error("Unauthorized");const i=await n.json();console.log("Offer data get:",i),i&&i.id&&j(i)}catch(r){console.error("Erreur lors du chargement de l'offre :",r)}})()},[d]),localStorage.setItem("selectedOfferId",t.id),localStorage.setItem("SelectedOfferCompanyName",((m=t.company)==null?void 0:m.name)||"");const u=s=>{b(`/recruteur/candidat/${s}`)};return e.jsxs("div",{className:"min-h-screen w-full font-sans",children:[e.jsxs("div",{className:"mb-6 bg-white px-4 w-full pt-6 pb-0 border-b border-gray-200",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-1",children:["offres / Détail de l'offre",e.jsx("span",{className:"ml-2 text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"Active"})]}),e.jsxs("div",{className:"flex items-center space-x-6 pb-2 text-sm text-gray-600 mt-2",children:[e.jsxs("button",{className:`relative font-semibold ${c==="participants"?"text-[#023047]-600":"text-gray-500"}`,onClick:()=>x("participants"),children:["Participants"," ",e.jsx("span",{className:"ml-1 text-xs bg-[#023047]-100 text-[#023047]-700 px-2 py-0.5 rounded-full",children:g.length}),c==="participants"&&e.jsx("div",{className:"absolute -bottom-2 left-0 h-1 w-full bg-[#023047]-600 rounded-t"})]}),e.jsxs("button",{className:`font-semibold ${c==="description"?"text-[#023047]-600":"text-gray-500"}`,onClick:()=>x("description"),children:["Description",c==="description"&&e.jsx("div",{className:" -bottom-2 left-0 h-1 w-full bg-[#023047]-600 rounded-t"})]})]})]}),e.jsx("div",{className:"p-4 contenu",children:c==="participants"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"bg-white border border-[#e0e0e0] text-sm px-4 py-2 rounded-lg text-gray-700",children:"Quick Reporting"}),e.jsxs("button",{className:"bg-white border border-[#e0e0e0] text-sm px-4 py-2 rounded-lg text-gray-700",children:["Filtres",e.jsx("span",{className:"ml-2 bg-[#023047]-600 text-white px-2 py-0.5 rounded-full text-xs",children:"5"})]})]}),e.jsx("input",{type:"text",placeholder:"Rechercher un candidat...",className:"border border-[#e0e0e0] bg-white px-4 py-2 rounded-md text-sm w-64 focus:ring-1 focus:ring-[#023047]-500"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-center text-sm text-gray-500 mb-2",children:[e.jsx("th",{className:"pb-2",children:"Candidat"}),e.jsx("th",{className:"pb-2",children:"Score global"}),e.jsx("th",{className:"pb-2",children:"Test matching"}),e.jsx("th",{className:"pb-2",children:"Feedback"}),e.jsx("th",{className:"pb-2",children:"CV matching"}),e.jsx("th",{className:"pb-2",children:"Progression"})]})}),e.jsx("tbody",{className:"space-y-4",children:g.map((s,r)=>e.jsx("tr",{children:e.jsx("td",{colSpan:6,children:e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center justify-between",onClick:()=>u(s.id),children:[e.jsxs("div",{className:"flex items-center w-2/5",children:[e.jsx("input",{type:"checkbox",className:"mr-4"}),e.jsx("img",{src:s.image,alt:s.name,className:"w-10 h-10 rounded-full mr-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.role," · ",s.experience]}),e.jsx("div",{className:"flex gap-1 mt-2 flex-wrap",children:s.tags.map((n,i)=>e.jsx("span",{className:"bg-orange-100 text-orange-600 text-xs px-2 py-0.5 rounded-full",children:n},i))})]})]}),e.jsxs("div",{className:"w-[80px] text-center text-xl font-semibold text-gray-800",children:[s.globalScore,"%"]}),e.jsxs("div",{className:"text-center w-[80px] text-sm",children:[s.testMatching,"%"]}),e.jsxs("div",{className:"text-center w-[80px] text-sm",children:[e.jsx("div",{className:"text-yellow-500 text-xl",children:"★"}),e.jsxs("div",{children:[s.feedback,"/5"]})]}),e.jsx("div",{className:"text-center w-[80px] text-sm",children:e.jsxs("div",{className:`text-sm font-medium ${s.statusColor==="red"?"text-red-500":"text-green-600"}`,children:[s.cvMatching,"%"]})}),e.jsxs("div",{className:"text-right text-sm w-1/4",children:[e.jsxs("div",{className:"mb-1",children:[s.stage,e.jsx("span",{className:"ml-2 text-gray-600",children:s.stepProgress})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${s.progress}%`}})})]})]})})},r))})]})})]}):e.jsx("div",{className:"bg-white p-6 rounded shadow-sm max-w-4xl mx-auto text-sm leading-6 text-gray-700",children:t&&e.jsxs("div",{className:"bg-white p-6 rounded shadow-sm max-w-5xl mx-auto",children:[e.jsxs("div",{className:"flex flex-row sm:flex-col  justify-between mb-4",style:{display:"flex",flexDirection:"row"},children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:[t.title," "]}),e.jsxs("div",{className:"flex flex-row  items-center justify-between mt-2",children:[e.jsxs("button",{className:" ml-2 text-sm  px-4 py-2 rounded-xl",style:{fontSize:"14px",background:"linear-gradient(273.65deg, #7547DA 1.4%, #1B0939 113.96%), linear-gradient(274.98deg, #7547DA 38.27%, #68E1FD 121.18%)",color:"white"},children:[e.jsx(C,{className:"mr-1"}),"Fermer l'offre"]}),e.jsxs("button",{className:" w- 100 ml-2 text-sm  border boder-[#023047]-700  px-2 py-2 rounded-xl",children:[e.jsx(w,{className:"mr-1"}),"Modifier l'offre"]})]})]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[(p=t.company)==null?void 0:p.name," · ",t.location]}),e.jsx("div",{className:"text-gray-700 leading-relaxed text-sm mb-4 whitespace-pre-line",children:t.description}),e.jsxs("div",{className:"text-gray-700 leading-relaxed text-sm mb-4 whitespace-pre-line",children:[e.jsx("p",{children:"Compétences requises"}),t.competences_requises]}),e.jsxs(l,{children:[e.jsxs(l,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[e.jsx(a,{variant:"body2",children:"Télétravail ou présentiel"}),e.jsx(a,{variant:"body2",children:t.mode_travail})]}),e.jsxs(l,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[e.jsx(a,{variant:"body2",children:"Type de contrat"}),e.jsx(a,{variant:"body2",children:t.type_offre})]}),e.jsxs(l,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[e.jsx(a,{variant:"body2",children:"Fourchette de salaire"}),e.jsxs(a,{variant:"body2",children:[t.salaire," Ar"]})]}),e.jsxs(l,{sx:{display:"flex",justifyContent:"space-between",py:1},children:[e.jsx(a,{variant:"body2",children:"Catégorie"}),e.jsx(a,{variant:"body2",children:t.category})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-2",children:"Compétences requises"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:(h=t.skills_required)==null?void 0:h.map((s,r)=>e.jsx("span",{className:"bg-[#fff1cc] text-[#c79202] px-3 py-1 rounded-full text-sm font-medium shadow-sm hover:shadow-md transition",children:s.name},s.id||r))}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(a,{variant:"subtitle2",gutterBottom:!0,children:"Documents requis"}),e.jsx(l,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:["CV","Lettre de motivation","Profil LinkedIn"].map(s=>e.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-0.5 rounded-full text-xs",children:s},s))})]})]})]})})})]})},T=y(k);export{T as default};
