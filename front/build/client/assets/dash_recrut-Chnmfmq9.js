import{w as b}from"./with-props-CxWoRmkF.js";import{t as v,r as w,y,n as o,q as L,N as k,O as C}from"./chunk-LSOULM7L-io0bedPh.js";import{C as T,A as B,T as e,D as M,b as S,L as A,a as D,H as E,R as c}from"./RuleRounded-ZN4IXNiu.js";import{L as R}from"./logo-icon-Dn9yHUnH.js";import{B as l}from"./Box-BLxVtGAS.js";import{S as d,T as z,A as G}from"./Stack-CwC3NhOB.js";import{T as s}from"./Typography-DJgOgQMi.js";import{I as H}from"./IconButton-I44uhMOa.js";import{M as N}from"./Menu-DTogQZVK.js";import{M as x}from"./MenuItem-5ZCoUKUi.js";import{b as P}from"./Popover-CXTwBrBR.js";import"./createSimplePaletteValueFilter-DAl8vQCF.js";import"./Grow-B5R8EoXR.js";import"./index-CNVCymyq.js";import"./createSvgIcon-DFgC7DwZ.js";import"./ButtonBase-Co8Bud7R.js";import"./isFocusVisible-B8k4qzLc.js";import"./listItemTextClasses-BJ0TsLHn.js";import"./useThemeProps-Dqe1E7Kd.js";import"./CircularProgress-C4PrRAOF.js";const m=240,O=[{text:"Tableau de bord",path:"/recruteur/dashboard",icon:o.jsx(E,{})},{text:"Talent Matcher",path:"/recruteur/talent_matcher",icon:o.jsx(c,{})},{text:"Évaluation",path:"/recruteur/evaluation",icon:o.jsx(c,{})}],co=b(function(){const h=v(),[n,a]=w.useState(null),p=!!n,u=r=>{a(r.currentTarget)},i=()=>a(null),j=async()=>{const r=localStorage.getItem("token");try{r&&await fetch("http://localhost:5000/logout",{method:"GET",headers:{Authorization:`Bearer ${r}`}}),localStorage.removeItem("token"),h("/auth/signin")}catch(t){console.error("Logout error:",t),localStorage.removeItem("token")}finally{i()}},f=y();return o.jsxs(l,{sx:{display:"flex"},children:[o.jsx(T,{}),o.jsx(B,{position:"fixed",sx:{zIndex:r=>r.zIndex.drawer+1,backgroundColor:"#fff",color:"#333",boxShadow:"none",borderBottom:"1px solid #ddd"},children:o.jsxs(e,{children:[o.jsxs(d,{direction:"row",alignItems:"center",spacing:2,sx:{flexGrow:1},children:[o.jsx("img",{src:R,alt:"Logo",width:"30px",height:"30px"}),o.jsx(s,{variant:"h6",noWrap:!0,children:"Key Predict"})]}),o.jsxs(d,{direction:"row",spacing:2,alignItems:"center",children:[o.jsx(z,{title:"Mes sociétés",children:o.jsx(H,{color:"inherit",children:o.jsx(s,{variant:"body2",children:"Mes sociétés"})})}),o.jsx(G,{src:"/app/images/avatar1.png",sx:{cursor:"pointer"},onClick:u}),o.jsxs(N,{anchorEl:n,open:p,onClose:i,children:[o.jsxs(x,{children:[o.jsx(L,{to:"/recruteur/profil",style:{textDecoration:"none",color:"#333"},children:"Profil"})," "]}),o.jsx(x,{onClick:j,children:o.jsx(s,{variant:"body2",style:{color:"#333"},children:"Déconnexion"})})]})]})]})}),o.jsx("nav",{children:o.jsxs(M,{variant:"permanent",sx:{width:m,"& .MuiDrawer-paper":{width:m,boxSizing:"border-box",backgroundColor:"white"}},children:[o.jsx(e,{}),o.jsx(P,{children:O.map(({text:r,path:t,icon:g})=>o.jsx(k,{to:t,style:({isActive:I})=>({textDecoration:"none",color:I?"#1976d2":"#333"}),children:o.jsxs(S,{selected:f.pathname===t,children:[o.jsx(A,{children:g}),o.jsx(D,{primary:r})]})},t))})]})}),o.jsxs(l,{component:"main",sx:{flexGrow:1,backgroundColor:"#f6f8f9",minHeight:"100vh"},children:[o.jsx(e,{}),o.jsx(C,{})]})]})});export{co as default};
