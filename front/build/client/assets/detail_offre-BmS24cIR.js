import{w as u}from"./with-props-CxWoRmkF.js";import{t as b,r as c,x as f,n as e}from"./chunk-LSOULM7L-io0bedPh.js";const m=[{id:1,name:"Marimar Delmar",role:"Administrateur commercial",experience:"6 ans d’expérience",image:"/app/images/avatar1.png",tags:["tag1","tag_long","tag2"],globalScore:94,testMatching:40,feedback:5,cvMatching:70,stage:"1/6",stepProgress:"Candidature reçue",progress:16},{id:2,name:"Jessica Vololona",role:"Commercial",experience:"2 ans d’expérience",image:"/app/images/avatar2.png",tags:["tag1","tag_long","tag2"],globalScore:68,testMatching:70,feedback:3,cvMatching:10,statusColor:"red",stage:"2/6",stepProgress:"Candidature reçue",progress:32},{id:3,name:"Marimar Delmar",role:"Administrateur commercial",experience:"6 ans d’expérience",image:"/app/images/avatar1.png",tags:["tag1","tag_long","tag2"],globalScore:94,testMatching:40,feedback:5,cvMatching:70,stage:"4/6",stepProgress:"Présélection",progress:66},{id:4,name:"Irina Menlez",role:"Commercial",experience:"3 ans d’expérience",image:"/app/images/avatar3.png",tags:["tag1","tag_long","tag2"],globalScore:45,testMatching:98,feedback:5,cvMatching:70,stage:"6/6",stepProgress:"Proposition",progress:100}],j=()=>{var o,x;const g=b(),[l,d]=c.useState("participants"),{id:n}=f(),[a,p]=c.useState(null);c.useEffect(()=>{n&&(async()=>{try{const t=localStorage.getItem("token"),i=await fetch(`http://localhost:5000/offer/${n}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!i.ok)throw new Error("Unauthorized");const r=await i.json();console.log("Offer data get:",r),r&&r.id&&p(r)}catch(t){console.error("Erreur lors du chargement de l'offre :",t)}})()},[n]);const h=s=>{g(`/recruteur/candidat/${s}`)};return e.jsxs("div",{className:"min-h-screen w-full font-sans",children:[e.jsxs("div",{className:"mb-6 bg-white px-4 w-full pt-6 pb-0 border-b border-gray-200",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-1",children:["Talent matcher / Détail de l'offre",e.jsx("span",{className:"ml-2 text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"Active"})]}),e.jsxs("div",{className:"flex items-center space-x-6 pb-2 text-sm text-gray-600 mt-2",children:[e.jsxs("button",{className:`relative font-semibold ${l==="participants"?"text-purple-600":"text-gray-500"}`,onClick:()=>d("participants"),children:["Participants"," ",e.jsx("span",{className:"ml-1 text-xs bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full",children:m.length}),l==="participants"&&e.jsx("div",{className:"absolute -bottom-2 left-0 h-1 w-full bg-purple-600 rounded-t"})]}),e.jsxs("button",{className:`font-semibold ${l==="description"?"text-purple-600":"text-gray-500"}`,onClick:()=>d("description"),children:["Description",l==="description"&&e.jsx("div",{className:"absolute -bottom-2 left-0 h-1 w-full bg-purple-600 rounded-t"})]})]})]}),e.jsx("div",{className:"p-4 contenu",children:l==="participants"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"bg-white border text-sm px-4 py-2 rounded-lg text-gray-700",children:"Quick Reporting"}),e.jsxs("button",{className:"bg-white border text-sm px-4 py-2 rounded-lg text-gray-700",children:["Filtres",e.jsx("span",{className:"ml-2 bg-purple-600 text-white px-2 py-0.5 rounded-full text-xs",children:"5"})]})]}),e.jsx("input",{type:"text",placeholder:"Rechercher un candidat...",className:"border px-4 py-2 rounded-md text-sm w-64 focus:ring-1 focus:ring-purple-500"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-center text-sm text-gray-500 mb-2",children:[e.jsx("th",{className:"pb-2",children:"Candidat"}),e.jsx("th",{className:"pb-2",children:"Score global"}),e.jsx("th",{className:"pb-2",children:"Test matching"}),e.jsx("th",{className:"pb-2",children:"Feedback"}),e.jsx("th",{className:"pb-2",children:"CV matching"}),e.jsx("th",{className:"pb-2",children:"Progression"})]})}),e.jsx("tbody",{className:"space-y-4",children:m.map((s,t)=>e.jsx("tr",{children:e.jsx("td",{colSpan:6,children:e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center justify-between",onClick:()=>h(s.id),children:[e.jsxs("div",{className:"flex items-center w-2/5",children:[e.jsx("input",{type:"checkbox",className:"mr-4"}),e.jsx("img",{src:s.image,alt:s.name,className:"w-10 h-10 rounded-full mr-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.role," · ",s.experience]}),e.jsx("div",{className:"flex gap-1 mt-2 flex-wrap",children:s.tags.map((i,r)=>e.jsx("span",{className:"bg-orange-100 text-orange-600 text-xs px-2 py-0.5 rounded-full",children:i},r))})]})]}),e.jsxs("div",{className:"w-[80px] text-center text-xl font-semibold text-gray-800",children:[s.globalScore,"%"]}),e.jsxs("div",{className:"text-center w-[80px] text-sm",children:[s.testMatching,"%"]}),e.jsxs("div",{className:"text-center w-[80px] text-sm",children:[e.jsx("div",{className:"text-yellow-500 text-xl",children:"★"}),e.jsxs("div",{children:[s.feedback,"/5"]})]}),e.jsx("div",{className:"text-center w-[80px] text-sm",children:e.jsxs("div",{className:`text-sm font-medium ${s.statusColor==="red"?"text-red-500":"text-green-600"}`,children:[s.cvMatching,"%"]})}),e.jsxs("div",{className:"text-right text-sm w-1/4",children:[e.jsxs("div",{className:"mb-1",children:[s.stage,e.jsx("span",{className:"ml-2 text-gray-600",children:s.stepProgress})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${s.progress}%`}})})]})]})})},t))})]})})]}):e.jsx("div",{className:"bg-white p-6 rounded shadow-sm max-w-4xl mx-auto text-sm leading-6 text-gray-700",children:a&&e.jsxs("div",{className:"bg-white p-6 rounded shadow-sm max-w-5xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:a.title}),e.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[(o=a.company)==null?void 0:o.name," · ",a.location]}),e.jsx("div",{className:"text-gray-700 leading-relaxed text-sm mb-4 whitespace-pre-line",children:a.description}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-2",children:"Compétences requises"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:(x=a.skills)==null?void 0:x.map((s,t)=>e.jsx("span",{className:"border border-gray-300 bg-gray-50 text-gray-700 text-xs px-3 py-1 rounded-full shadow-sm hover:shadow-md transition",children:s},t))})]})]})})})]})},w=u(j);export{w as default};
